Прокоментировать код.
Какие проблемы вы здесь видите (оформление, логика, концепция). 
Как бы вы доработали данный код, используя ту же основу?